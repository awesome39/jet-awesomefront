###
Свойство модели
###
module.exports= class Property

    constructor: (@descriptor) ->

        @validate= (value) =>
            if @descriptor.init instanceof Function
                value= @descriptor.init value
            if @descriptor.validate instanceof Function
                value= @descriptor.validate value
            if @descriptor.required and not value
                throw new @constructor.ValidateError value, 'not be undefined'
            return value

    @ValidateError: class ValidateError
        constructor: (@value, @message='Invalid') ->
